<?xml version="1.0" encoding="utf-8" ?>

<Defs>
	
	<!-- Raise Undead  -->	
    <ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>TorannMagic.Projectile_RaiseUndead</thingClass>
	    <defName>Projectile_RaiseUndead</defName>
        <label>Raise undead</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
			<flyOverhead>true</flyOverhead>
            <damageDef>TM_Holy</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>999</speed>
			<explosionRadius>4</explosionRadius>
			<postExplosionSpawnChance>1</postExplosionSpawnChance>
        </projectile>
    </ThingDef>

    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_RaiseUndead</defName>
        <label>Raise Undead</label>
        <uiIconPath>UI/raiseundead</uiIconPath>
        <description>Raise undead from corpses. Only works on biological creatures that were once living. 

Undead will remain under the Necromancers control indefinitely. The necromancer will incur a mana upkeep cost of 30% of base mana regeneration for each undead, humanlike pawn. Undead animals incur an upkeep cost of 15% for every 100 combat power.

There is no limit to the number of undead a necromancer may control, however, when the necromancer no longer has mana to maintain undead, they will automatically be consumed until the number of active undead is reduced to a manageable amount.</description>
        <manaCost>0.45</manaCost>
		<efficiencyReductionPercent>.05</efficiencyReductionPercent>
		<learnChance>.5</learnChance>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_SB</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_RaiseUndead</defaultProjectile>
            <abilityDef>TM_RaiseUndead</abilityDef>
            <warmupTime>6</warmupTime>
            <SecondsToRecharge>30</SecondsToRecharge>
            <range>25</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>ThrowMolotovCocktail</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>true</isViolent>
			<targetParams>
				<canTargetItems>false</canTargetItems>
                <canTargetPawns>false</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
   <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
    <defName>TM_DismissUndead</defName>
    <label>Dismiss Undead</label>
    <uiIconPath>UI/dismissundead</uiIconPath>
    <description>Dismisses an undead.</description>
    <manaCost>0.0</manaCost>
	<shouldInitialize>false</shouldInitialize>
	<MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_DismissUndead</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>TM_Paladin_Heal</defaultProjectile>
		<abilityDef>TM_DismissUndead</abilityDef>
        <warmupTime>1</warmupTime>
        <SecondsToRecharge>4</SecondsToRecharge>
		<burstShotCount>1</burstShotCount>
        <range>25</range>
		<isViolent>false</isViolent>
        <soundCast>Message_PositiveEvent</soundCast>
        <muzzleFlashScale>20</muzzleFlashScale>
		<AlwaysHits>true</AlwaysHits>
        <isPrimary>false</isPrimary>
		<AbilityTargetCategory>TargetAoE</AbilityTargetCategory>
            <TargetAoEProperties>
                <targetClass>Pawn</targetClass>
                <showRangeOnSelect>true</showRangeOnSelect>
                <friendlyFire>true</friendlyFire>
                <startsFromCaster>false</startsFromCaster>
                <maxTargets>12</maxTargets>
                <range>3</range>
            </TargetAoEProperties>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
    </MainVerb>
 </TorannMagic.TMAbilityDef>

    <!-- raise undead end-->
	
		<!-- death mark  -->	
    <ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>AbilityUser.Projectile_AbilityBase</thingClass>
	    <defName>Projectile_DeathMark</defName>
        <label>Death mark</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
			<flyOverhead>true</flyOverhead>
            <damageDef>TM_Poison</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>999</speed>
        </projectile>
    </ThingDef>

    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_DeathMark</defName>
        <label>Death Mark</label>
        <uiIconPath>UI/deathmark</uiIconPath>
        <description>Mark a victim with a curse that causes their life to flash before their eyes. Cursed victims will lose focus and the will to fight, reducing the attack rate. Marking targets for death empowers Death Bolt. Does not work on mechanoids.
		
Max Targets: 4
Cast Time: 3s
Cooldown: 120s
Range: 34</description>
        <manaCost>0.20</manaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<learnChance>.3</learnChance>
		<canCopy>true</canCopy>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_DeathMark</verbClass>
				<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_DeathMark</defaultProjectile>
            <abilityDef>TM_DeathMark</abilityDef>
            <warmupTime>3</warmupTime>
            <SecondsToRecharge>120</SecondsToRecharge>
            <range>34</range>
            <burstShotCount>1</burstShotCount>			
            <soundCast>TM_Vibration</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>true</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
			<AbilityTargetCategory>TargetAoE</AbilityTargetCategory>
            <TargetAoEProperties>
                <targetClass>Pawn</targetClass>
                <showRangeOnSelect>true</showRangeOnSelect>
                <friendlyFire>false</friendlyFire>
                <startsFromCaster>false</startsFromCaster>
                <maxTargets>4</maxTargets>
                <range>3</range>
            </TargetAoEProperties>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_DeathMark_I</defName>
        <label>Death Mark (I)</label>
        <uiIconPath>UI/deathmark</uiIconPath>
        <description>Mark a victim with a curse that causes their life to flash before their eyes. Cursed victims will lose focus and the will to fight, reducing the attack rate. Marking targets for death empowers Death Bolt. Does not work on mechanoids.
		
Max Targets: 5
Cast Time: 2.5s
Cooldown: 90s
Range: 38</description>
        <manaCost>0.20</manaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_DeathMark</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_DeathMark</defaultProjectile>
            <abilityDef>TM_DeathMark_I</abilityDef>
            <warmupTime>2.5</warmupTime>
            <SecondsToRecharge>90</SecondsToRecharge>
            <range>38</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_Vibration</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>true</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
			<AbilityTargetCategory>TargetAoE</AbilityTargetCategory>
            <TargetAoEProperties>
                <targetClass>Pawn</targetClass>
                <showRangeOnSelect>true</showRangeOnSelect>
                <friendlyFire>false</friendlyFire>
                <startsFromCaster>false</startsFromCaster>
                <maxTargets>5</maxTargets>
                <range>4</range>
            </TargetAoEProperties>

        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_DeathMark_II</defName>
        <label>Death Mark (II)</label>
        <uiIconPath>UI/deathmark</uiIconPath>
        <description>Mark a victim with a curse that causes their life to flash before their eyes. Cursed victims will lose focus and the will to fight, reducing the attack rate. Marking targets for death empowers Death Bolt. Does not work on mechanoids.
		
Max Targets: 6
Cast Time: 2s
Cooldown: 60s
Range: 42</description>
        <manaCost>0.20</manaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_DeathMark</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_DeathMark</defaultProjectile>
            <abilityDef>TM_DeathMark_II</abilityDef>
            <warmupTime>2</warmupTime>
            <SecondsToRecharge>60</SecondsToRecharge>
            <range>42</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_Vibration</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>true</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
			<AbilityTargetCategory>TargetAoE</AbilityTargetCategory>
            <TargetAoEProperties>
                <targetClass>Pawn</targetClass>
                <showRangeOnSelect>true</showRangeOnSelect>
                <friendlyFire>false</friendlyFire>
                <startsFromCaster>false</startsFromCaster>
                <maxTargets>6</maxTargets>
                <range>5</range>
            </TargetAoEProperties>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_DeathMark_III</defName>
        <label>Death Mark (III)</label>
        <uiIconPath>UI/deathmark</uiIconPath>
        <description>Mark a victim with a curse that causes their life to flash before their eyes. Cursed victims will lose focus and the will to fight, reducing the attack rate. Marking targets for death empowers Death Bolt. Does not work on mechanoids.
		
Max Targets: 7
Cast Time: 1.8s
Cooldown: 45s
Range: 46</description>
        <manaCost>0.20</manaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_DeathMark</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_DeathMark</defaultProjectile>
            <abilityDef>TM_DeathMark_III</abilityDef>
            <warmupTime>1.8</warmupTime>
            <SecondsToRecharge>45</SecondsToRecharge>
            <range>46</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_Vibration</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>true</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
			<AbilityTargetCategory>TargetAoE</AbilityTargetCategory>
            <TargetAoEProperties>
                <targetClass>Pawn</targetClass>
                <showRangeOnSelect>true</showRangeOnSelect>
                <friendlyFire>false</friendlyFire>
                <startsFromCaster>false</startsFromCaster>
                <maxTargets>7</maxTargets>
                <range>5</range>
            </TargetAoEProperties>
        </MainVerb>
    </TorannMagic.TMAbilityDef>

    <!-- death mark end-->
	
		<!-- fog of torment -->	
    <ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>TorannMagic.Projectile_FogOfTorment</thingClass>
	    <defName>Projectile_FogOfTorment</defName>
        <label>fog of torment</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
			<flyOverhead>true</flyOverhead>
            <damageDef>TM_Torment</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>999</speed>
			<explosionRadius>6</explosionRadius>
			<postExplosionSpawnChance>1</postExplosionSpawnChance>
        </projectile>
    </ThingDef>

    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_FogOfTorment</defName>
        <label>Fog of Torment</label>
        <uiIconPath>UI/fogoftorment</uiIconPath>
        <description>Creates a fog that causes pain and suffering to every living creature within. Undead within the fog are slowly healed and suffer no penalties from the fog.</description>
        <manaCost>0.3</manaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<learnChance>.4</learnChance>
		<canCopy>true</canCopy>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_FogOfTorment</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_FogOfTorment</defaultProjectile>
            <abilityDef>TM_FogOfTorment</abilityDef>
            <warmupTime>3</warmupTime>
            <SecondsToRecharge>30</SecondsToRecharge>
            <range>50</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>ThrowMolotovCocktail</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>true</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>

    <!-- fog of torment end-->
	
		<!--consume corpse  -->	
    <ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>AbilityUser.Projectile_AbilityBase</thingClass>
	    <defName>Projectile_ConsumeCorpse</defName>
        <label>consume corpse</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
			<flyOverhead>true</flyOverhead>
            <damageDef>TM_Holy</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>999</speed>
        </projectile>
    </ThingDef>

    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_ConsumeCorpse</defName>
        <label>Consume Corpse</label>
        <uiIconPath>UI/consumecorpse</uiIconPath>
        <description>Consume a corpse or undead to replenish mana. Apparel, items, and equipment remain behind but all material belonging to the corpse is consumed (meat/leather)
		
Mana Cost: 3
Range: 50
Cooldown: 20s
Cast Time: 2s</description>
        <manaCost>0.03</manaCost>
		<learnChance>.3</learnChance>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_ConsumeCorpse</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_ConsumeCorpse</defaultProjectile>
            <abilityDef>TM_ConsumeCorpse</abilityDef>
            <warmupTime>2</warmupTime>
            <SecondsToRecharge>20</SecondsToRecharge>
            <range>50</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>ThrowMolotovCocktail</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_ConsumeCorpse_I</defName>
        <label>Consume Corpse (I)</label>
        <uiIconPath>UI/consumecorpse</uiIconPath>
        <description>Consume a corpse or undead to replenish mana. Apparel, items, and equipment remain behind but all material belonging to the corpse is consumed (meat/leather)
		
Mana Cost: 2.5
Range: 60
Cooldown: 18s
Cast Time: 1.8s</description>
        <manaCost>0.025</manaCost>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_ConsumeCorpse</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_ConsumeCorpse</defaultProjectile>
            <abilityDef>TM_ConsumeCorpse_I</abilityDef>
            <warmupTime>1.8</warmupTime>
            <SecondsToRecharge>18</SecondsToRecharge>
            <range>60</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>ThrowMolotovCocktail</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_ConsumeCorpse_II</defName>
        <label>Consume Corpse (II)</label>
        <uiIconPath>UI/consumecorpse</uiIconPath>
        <description>Consume a corpse or undead to replenish mana. Apparel, items, and equipment remain behind but all material belonging to the corpse is consumed (meat/leather)
		
Mana Cost: 2
Range: 70
Cooldown: 16s
Cast Time: 1.5s</description>
        <manaCost>0.02</manaCost>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_ConsumeCorpse</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_ConsumeCorpse</defaultProjectile>
            <abilityDef>TM_ConsumeCorpse_II</abilityDef>
            <warmupTime>1.5</warmupTime>
            <SecondsToRecharge>16</SecondsToRecharge>
            <range>70</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>ThrowMolotovCocktail</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_ConsumeCorpse_III</defName>
        <label>Consume Corpse (III)</label>
        <uiIconPath>UI/consumecorpse</uiIconPath>
        <description>Consume a corpse or undead to replenish mana. Apparel, items, and equipment remain behind but all material belonging to the corpse is consumed (meat/leather)
		
Mana Cost: 1.5
Range: 80
Cooldown: 15s
Cast Time: 1.2s</description>
        <manaCost>0.015</manaCost>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_ConsumeCorpse</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_ConsumeCorpse</defaultProjectile>
            <abilityDef>TM_ConsumeCorpse_III</abilityDef>
            <warmupTime>1.2</warmupTime>
            <SecondsToRecharge>15</SecondsToRecharge>
            <range>80</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>ThrowMolotovCocktail</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>AbilityUser.Projectile_AbilityBase</thingClass>
	    <defName>Projectile_ConsumeCorpse_Mass</defName>
        <label>consume corpse: mass</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
			<flyOverhead>true</flyOverhead>
            <damageDef>TM_Holy</damageDef>
            <damageAmountBase>0</damageAmountBase>			
			<explosionRadius>3</explosionRadius>
			<postExplosionSpawnChance>1</postExplosionSpawnChance>
            <speed>999</speed>
        </projectile>
    </ThingDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_ConsumeCorpse_Mass</defName>
        <label>Consume Corpse: Mass</label>
        <uiIconPath>UI/consumecorpse_mass</uiIconPath>
        <description>Consume a group of corpses or undead to replenish mana. Apparel, items, and equipment remain behind but all material belonging to the corpse is consumed (meat/leather).</description>
        <manaCost>0.20</manaCost>
		<learnChance>0</learnChance>
		<shouldInitialize>true</shouldInitialize>
		<learnItem>SpellOf_ConsumeCorpse_Mass</learnItem>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_ConsumeCorpse_Mass</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_ConsumeCorpse_Mass</defaultProjectile>
            <abilityDef>TM_ConsumeCorpse_Mass</abilityDef>
            <warmupTime>2</warmupTime>
            <SecondsToRecharge>30</SecondsToRecharge>
            <range>30</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>ThrowMolotovCocktail</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>

    <!-- consume corpse end-->
	
		<!-- corpse explosion -->	
    <ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>TorannMagic.Projectile_CorpseExplosion</thingClass>
	    <defName>Projectile_CorpseExplosion</defName>
        <label>corpse explosion</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
			<flyOverhead>true</flyOverhead>
            <damageDef>TM_Holy</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>999</speed>
        </projectile>
    </ThingDef>

    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_CorpseExplosion</defName>
        <label>Corpse Explosion</label>
        <uiIconPath>UI/corpseexplosion</uiIconPath>
        <description>Mixes arcane energy with chemicals inside a corpse or undead to cause the body to explode after a short delay. Equipment will not automatically be consumed by the explosion, but may be destroyed in the explosion.
		
Mana Cost: 20%
Range: 40
Cooldown: 10s
Cast time: 2s</description>
        <manaCost>0.20</manaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<learnChance>.2</learnChance>
		<canCopy>true</canCopy>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_BLOS</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
			<requiresLineOfSight>false</requiresLineOfSight>
            <defaultProjectile>Projectile_CorpseExplosion</defaultProjectile>
            <abilityDef>TM_CorpseExplosion</abilityDef>
            <warmupTime>2</warmupTime>
            <SecondsToRecharge>10</SecondsToRecharge>
            <range>40</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>ThrowMolotovCocktail</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>true</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_CorpseExplosion_I</defName>
        <label>Corpse Explosion (I)</label>
        <uiIconPath>UI/corpseexplosion</uiIconPath>
        <description>Mixes arcane energy with chemicals inside a corpse or undead to cause the body to explode after a short delay. Equipment will not automatically be consumed by the explosion, but may be destroyed in the explosion.
		
Mana Cost: 22%
Range: 50
Cooldown: 7s
Cast time: 1.5s</description>
        <manaCost>0.22</manaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_BLOS</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
			<requiresLineOfSight>false</requiresLineOfSight>
            <defaultProjectile>Projectile_CorpseExplosion</defaultProjectile>
            <abilityDef>TM_CorpseExplosion_I</abilityDef>
            <warmupTime>1.5</warmupTime>
            <SecondsToRecharge>7</SecondsToRecharge>
            <range>50</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>ThrowMolotovCocktail</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>true</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_CorpseExplosion_II</defName>
        <label>Corpse Explosion (II)</label>
        <uiIconPath>UI/corpseexplosion</uiIconPath>
        <description>Mixes arcane energy with chemicals inside a corpse or undead to cause the body to explode after a short delay. Equipment will not automatically be consumed by the explosion, but may be destroyed in the explosion.
		
Mana Cost: 24%
Range: 60
Cooldown: 5s
Cast time: 1s</description>
        <manaCost>0.24</manaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_BLOS</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
			<requiresLineOfSight>false</requiresLineOfSight>
            <defaultProjectile>Projectile_CorpseExplosion</defaultProjectile>
            <abilityDef>TM_CorpseExplosion_II</abilityDef>
            <warmupTime>1</warmupTime>
            <SecondsToRecharge>5</SecondsToRecharge>
            <range>60</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>ThrowMolotovCocktail</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>true</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_CorpseExplosion_III</defName>
        <label>Corpse Explosion (III)</label>
        <uiIconPath>UI/corpseexplosion</uiIconPath>
        <description>Mixes arcane energy with chemicals inside a corpse or undead to cause the body to explode after a short delay. Equipment will not automatically be consumed by the explosion, but may be destroyed in the explosion.
		
Mana Cost: 25%
Range: 70
Cooldown: 4s
Cast time: .5s</description>
        <manaCost>0.25</manaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_BLOS</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
			<requiresLineOfSight>false</requiresLineOfSight>
            <defaultProjectile>Projectile_CorpseExplosion</defaultProjectile>
            <abilityDef>TM_CorpseExplosion_III</abilityDef>
            <warmupTime>.5</warmupTime>
            <SecondsToRecharge>4</SecondsToRecharge>
            <range>70</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>ThrowMolotovCocktail</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>true</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>

    <!-- corpse explosion end-->
	
	<!-- Lich Form -->
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_LichForm</defName>
        <label>Lich Form</label>
        <uiIconPath>UI/lich</uiIconPath>
        <description>Transforms the necromancer into an undead lich gaining an immortal existence and arcane power. Once used, there is no return.
		
Benefits: 
Maximum Mana: +50
Mana Regeneration: +50%
Gains unnatural immunities to diseases, resistances to damage, health regeneration, and is sustained by mana (no longer required to sleep or eat)
Gains ability: Flight
Gains ability: Death Bolt

Penalties:
Can no longer perform work involving Caring, Social, Animals, Firefighting, Artistic, or Dumb Labor.
Loses all passion for work except fighting and research.
Reduced learning speed by 40% and global work speed by 75%
Movement speed: -2.0 c/s</description>
        <manaCost>0.0</manaCost>
		<learnItem>SpellOf_LichForm</learnItem>
		<learnChance>.05</learnChance>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_LichForm</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_ConsumeCorpse</defaultProjectile>
            <abilityDef>TM_LichForm</abilityDef>
            <warmupTime>10</warmupTime>
            <SecondsToRecharge>2</SecondsToRecharge>
            <range>0</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_Gong</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>false</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	
    <!-- Death Bolt-->	
    <ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>AbilityUser.Projectile_Ability</thingClass>
	    <defName>Projectile_DeathBolt</defName>
        <label>deathbolt</label>
        <graphicData>
			<texPath>Spells/deathbolt</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
            <damageDef>TM_DeathBolt</damageDef>
            <damageAmountBase>30</damageAmountBase>
            <speed>30</speed>
			<explosionRadius>1.4</explosionRadius>
			<postExplosionSpawnChance>1</postExplosionSpawnChance>
        </projectile>
    </ThingDef>
	
	<ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>AbilityUser.Projectile_Ability</thingClass>
	    <defName>Projectile_DeathBolt_I</defName>
        <label>deathbolt</label>
        <graphicData>
			<texPath>Spells/deathbolt</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
            <damageDef>TM_DeathBolt</damageDef>
            <damageAmountBase>30</damageAmountBase>
            <speed>30</speed>
			<explosionRadius>2</explosionRadius>
			<postExplosionSpawnChance>1</postExplosionSpawnChance>
        </projectile>
    </ThingDef>
	
	<ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>AbilityUser.Projectile_Ability</thingClass>
	    <defName>Projectile_DeathBolt_II</defName>
        <label>deathbolt</label>
        <graphicData>
			<texPath>Spells/deathbolt</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
            <damageDef>TM_DeathBolt</damageDef>
            <damageAmountBase>30</damageAmountBase>
            <speed>30</speed>
			<explosionRadius>2</explosionRadius>
			<postExplosionSpawnChance>1</postExplosionSpawnChance>
        </projectile>
    </ThingDef>
	
	<ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>AbilityUser.Projectile_Ability</thingClass>
	    <defName>Projectile_DeathBolt_III</defName>
        <label>deathbolt</label>
        <graphicData>
			<texPath>Spells/deathbolt</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
            <damageDef>TM_DeathBolt</damageDef>
            <damageAmountBase>30</damageAmountBase>
            <speed>36</speed>
			<explosionRadius>2.4</explosionRadius>
			<postExplosionSpawnChance>1</postExplosionSpawnChance>
        </projectile>
    </ThingDef>	
	
	<ThingDef ParentName="BaseBullet" Name="FlyingObject_DeathBolt">
	   <defName>FlyingObject_DeathBolt</defName>
	   <thingClass>TorannMagic.FlyingObject_DeathBolt</thingClass>
	   <label>explosion</label>
	   <graphicData>
			<texPath>Spells/deathbolt</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
	   <projectile>
			<flyOverhead>true</flyOverhead>
			<damageDef>TM_DeathBolt</damageDef>
			<damageAmountBase>30</damageAmountBase>
			<speed>30</speed>
			<explosionRadius>1.4</explosionRadius>
			<postExplosionSpawnChance>1</postExplosionSpawnChance>
	   </projectile>
	</ThingDef>

    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_DeathBolt</defName>
        <label>Death Bolt</label>
        <uiIconPath>Spells/deathbolt</uiIconPath>
        <description>Launches bolts of power carrying the anguish of the dead; causes intense pain to any living creatures caught in the blast.

Explosion Radius: 1.6m
Cooldown: 15s
Bolts: 2
Range: 40</description>
        <manaCost>0.30</manaCost>
		<efficiencyReductionPercent>.06</efficiencyReductionPercent>
		<learnChance>.1</learnChance>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Effect_DeathBolt</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_DeathBolt</defaultProjectile>
            <abilityDef>TM_DeathBolt</abilityDef>
			<isViolent>true</isViolent>
            <warmupTime>2</warmupTime>
            <SecondsToRecharge>15.0</SecondsToRecharge>
			<forcedMissRadius>6</forcedMissRadius>
            <range>40</range>
			<ticksBetweenBurstShots>4</ticksBetweenBurstShots>
            <burstShotCount>2</burstShotCount>
            <soundCast>TM_Launch</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>2</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>true</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_DeathBolt_I</defName>
        <label>Death Bolt (I)</label>
        <uiIconPath>Spells/deathbolt</uiIconPath>
        <description>Launches bolts of power carrying the anguish of the dead; causes intense pain to any living creatures caught in the blast.

Explosion Radius: 2m
Cooldown: 14s
Bolts: 2
Range 40</description>
        <manaCost>0.30</manaCost>
		<efficiencyReductionPercent>.06</efficiencyReductionPercent>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Effect_DeathBolt</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_DeathBolt_I</defaultProjectile>
            <abilityDef>TM_DeathBolt_I</abilityDef>
			<isViolent>true</isViolent>
            <warmupTime>2</warmupTime>
            <SecondsToRecharge>14.0</SecondsToRecharge>
			<forcedMissRadius>6</forcedMissRadius>
            <range>40</range>
            <burstShotCount>2</burstShotCount>
			<ticksBetweenBurstShots>4</ticksBetweenBurstShots>
            <soundCast>TM_Launch</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>2</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>true</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_DeathBolt_II</defName>
        <label>Death Bolt (II)</label>
        <uiIconPath>Spells/deathbolt</uiIconPath>
        <description>Launches bolts of power carrying the anguish of the dead; causes intense pain to any living creatures caught in the blast.

Explosion Radius: 2m
Cooldown: 13s
Bolts: 3
Range 40</description>
        <manaCost>0.30</manaCost>
		<efficiencyReductionPercent>.06</efficiencyReductionPercent>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Effect_DeathBolt</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_DeathBolt_II</defaultProjectile>
            <abilityDef>TM_DeathBolt_II</abilityDef>
			<isViolent>true</isViolent>
            <warmupTime>2</warmupTime>
            <SecondsToRecharge>13.0</SecondsToRecharge>
			<forcedMissRadius>6</forcedMissRadius>
            <range>40</range>
            <burstShotCount>3</burstShotCount>
			<ticksBetweenBurstShots>4</ticksBetweenBurstShots>
            <soundCast>TM_Launch</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>true</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_DeathBolt_III</defName>
        <label>Death Bolt (III)</label>
        <uiIconPath>Spells/deathbolt</uiIconPath>
        <description>Launches bolts of power carrying the anguish of the dead; causes intense pain to any living creatures caught in the blast.

Explosion Radius: 2.4m
Cooldown: 12s
Bolts: 3
Range: 50</description>
        <manaCost>0.30</manaCost>
		<efficiencyReductionPercent>.06</efficiencyReductionPercent>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Effect_DeathBolt</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_DeathBolt_III</defaultProjectile>
            <abilityDef>TM_DeathBolt_III</abilityDef>
			<isViolent>true</isViolent>
            <warmupTime>2</warmupTime>
            <SecondsToRecharge>12.0</SecondsToRecharge>
			<forcedMissRadius>6</forcedMissRadius>
            <range>50</range>
            <burstShotCount>3</burstShotCount>
			<ticksBetweenBurstShots>4</ticksBetweenBurstShots>
            <soundCast>TM_Launch</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>true</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>

    <!-- deathbolt end-->

</Defs>