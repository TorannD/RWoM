<?xml version="1.0" encoding="utf-8" ?>

<Defs>

  <ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
   <defName>Projectile_Sustained</defName>
   <thingClass>AbilityUser.Projectile_Ability</thingClass>
   <label>sustained ability</label>
   <graphicData>
		<texPath>Spells/invis</texPath>
		<graphicClass>Graphic_Single</graphicClass>
   </graphicData>
   <projectile>
		<flyOverhead>true</flyOverhead>
		<damageDef>TM_Heal_I</damageDef>
		<damageAmountBase>0</damageAmountBase>
		<speed>100</speed>
   </projectile>
 </ThingDef>

<!-- Gear Repair -->

 <TorannMagic.TMAbilityDef ParentName="BaseMightAbility">
    <defName>TM_GearRepair</defName>
    <label>Gear Repair</label>
    <uiIconPath>UI/gearrepair</uiIconPath>
    <description>Activates or deactivates the sustained combat skill Gear Repair - slowly repairs equipped apparel and weapons. Requires 20 Stamina to sustain.</description>
    <staminaCost>0.0</staminaCost>
	<learnItem>SkillOf_GearRepair</learnItem>
	<abilityHediff>TM_HediffGearRepair</abilityHediff>
	<upkeepEnergyCost>.2</upkeepEnergyCost>
    <MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_GearRepair</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
		<abilityDef>TM_GearRepair</abilityDef>
		<isViolent>false</isViolent>
        <defaultProjectile>Projectile_Sustained</defaultProjectile>
        <warmupTime>0</warmupTime>
        <SecondsToRecharge>15</SecondsToRecharge>
        <range>0</range>
        <soundCast>Message_PositiveEvent</soundCast>
        <muzzleFlashScale>20</muzzleFlashScale>
        <isPrimary>false</isPrimary>
   	    <AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
		<targetParams>
		  <canTargetPawns>true</canTargetPawns>
		  <canTargetBuildings>false</canTargetBuildings>
		  <canTargetSelf>true</canTargetSelf>
		  <canTargetLocations>false</canTargetLocations>
		</targetParams>
    </MainVerb>
  </TorannMagic.TMAbilityDef>
  
  <!-- Inner Healing -->

 <TorannMagic.TMAbilityDef ParentName="BaseMightAbility">
    <defName>TM_InnerHealing</defName>
    <label>Inner Healing</label>
    <uiIconPath>UI/innerhealing</uiIconPath>
    <description>Activates or deactivates the sustained combat skill Inner Healing - sacrifices physical energy to increase healing rate and disease immunity. Requires 10 Stamina to sustain.</description>
    <staminaCost>0.0</staminaCost>
	<learnItem>SkillOf_InnerHealing</learnItem>
	<abilityHediff>TM_HediffInnerHealing</abilityHediff>
	<upkeepEnergyCost>.1</upkeepEnergyCost>
    <MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_InnerHealing</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
		<abilityDef>TM_InnerHealing</abilityDef>
		<isViolent>false</isViolent>
        <defaultProjectile>Projectile_Sustained</defaultProjectile>
        <warmupTime>0</warmupTime>
        <SecondsToRecharge>15</SecondsToRecharge>
        <range>0</range>
        <soundCast>Message_PositiveEvent</soundCast>
        <muzzleFlashScale>20</muzzleFlashScale>
        <isPrimary>false</isPrimary>
   	    <AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
		<targetParams>
		  <canTargetPawns>true</canTargetPawns>
		  <canTargetBuildings>false</canTargetBuildings>
		  <canTargetSelf>true</canTargetSelf>
		  <canTargetLocations>false</canTargetLocations>
		</targetParams>
    </MainVerb>
  </TorannMagic.TMAbilityDef>
  
    <!-- Heavy Blow -->

 <TorannMagic.TMAbilityDef ParentName="BaseMightAbility">
    <defName>TM_HeavyBlow</defName>
    <label>Heavy Blow</label>
    <uiIconPath>UI/heavyblow</uiIconPath>
    <description>Activates or deactivates the sustained combat skill Heavy Blow - increases damage of all attacks by 20%. Requires 30 Stamina to sustain.</description>
    <staminaCost>0.0</staminaCost>
	<learnItem>SkillOf_HeavyBlow</learnItem>
	<abilityHediff>TM_HediffHeavyBlow</abilityHediff>
	<upkeepEnergyCost>.3</upkeepEnergyCost>
    <MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_HeavyBlow</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
		<abilityDef>TM_HeavyBlow</abilityDef>
		<isViolent>false</isViolent>
        <defaultProjectile>Projectile_Sustained</defaultProjectile>
        <warmupTime>0</warmupTime>
        <SecondsToRecharge>15</SecondsToRecharge>
        <range>0</range>
        <soundCast>Message_PositiveEvent</soundCast>
        <muzzleFlashScale>20</muzzleFlashScale>
        <isPrimary>false</isPrimary>
   	    <AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
		<targetParams>
		  <canTargetPawns>true</canTargetPawns>
		  <canTargetBuildings>false</canTargetBuildings>
		  <canTargetSelf>true</canTargetSelf>
		  <canTargetLocations>false</canTargetLocations>
		</targetParams>
    </MainVerb>
  </TorannMagic.TMAbilityDef>
  
        <!-- Strong Back -->

 <TorannMagic.TMAbilityDef ParentName="BaseMightAbility">
    <defName>TM_StrongBack</defName>
    <label>Strong Back</label>
    <uiIconPath>UI/strongback</uiIconPath>
    <description>Activates or deactivates the sustained combat skill Strong Back - increases carry capacity by 40 and inventory capacity by 50% but causes a 10% increase in exhaustion rate. Requires 20 Stamina to sustain.</description>
    <staminaCost>0.0</staminaCost>
	<learnItem>SkillOf_StrongBack</learnItem>
	<abilityHediff>TM_HediffStrongBack</abilityHediff>
	<upkeepEnergyCost>.2</upkeepEnergyCost>
    <MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_StrongBack</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
		<abilityDef>TM_StrongBack</abilityDef>
		<isViolent>false</isViolent>
        <defaultProjectile>Projectile_Sustained</defaultProjectile>
        <warmupTime>0</warmupTime>
        <SecondsToRecharge>15</SecondsToRecharge>
        <range>0</range>
        <soundCast>Message_PositiveEvent</soundCast>
        <muzzleFlashScale>20</muzzleFlashScale>
        <isPrimary>false</isPrimary>
   	    <AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
		<targetParams>
		  <canTargetPawns>true</canTargetPawns>
		  <canTargetBuildings>false</canTargetBuildings>
		  <canTargetSelf>true</canTargetSelf>
		  <canTargetLocations>false</canTargetLocations>
		</targetParams>
    </MainVerb>
  </TorannMagic.TMAbilityDef>
  
      <!-- Thick Skin -->

 <TorannMagic.TMAbilityDef ParentName="BaseMightAbility">
    <defName>TM_ThickSkin</defName>
    <label>Thick Skin</label>
    <uiIconPath>UI/thickskin</uiIconPath>
    <description>Activates or deactivates the sustained combat skill Thick Skin - increases all armor values by 10% and improves temperature thresholds slightly. Requires 30 Stamina to sustain and reduces stamina regeneration by 15%.</description>
    <staminaCost>0.0</staminaCost>
	<learnItem>SkillOf_ThickSkin</learnItem>
	<abilityHediff>TM_HediffThickSkin</abilityHediff>
	<upkeepEnergyCost>.3</upkeepEnergyCost>
	<upkeepRegenCost>.15</upkeepRegenCost>
    <MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_ThickSkin</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
		<abilityDef>TM_ThickSkin</abilityDef>
		<isViolent>false</isViolent>
        <defaultProjectile>Projectile_Sustained</defaultProjectile>
        <warmupTime>0</warmupTime>
        <SecondsToRecharge>15</SecondsToRecharge>
        <range>0</range>
        <soundCast>Message_PositiveEvent</soundCast>
        <muzzleFlashScale>20</muzzleFlashScale>
        <isPrimary>false</isPrimary>
   	    <AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
		<targetParams>
		  <canTargetPawns>true</canTargetPawns>
		  <canTargetBuildings>false</canTargetBuildings>
		  <canTargetSelf>true</canTargetSelf>
		  <canTargetLocations>false</canTargetLocations>
		</targetParams>
    </MainVerb>
  </TorannMagic.TMAbilityDef>
  
        <!-- Fighters Focus -->

 <TorannMagic.TMAbilityDef ParentName="BaseMightAbility">
    <defName>TM_FightersFocus</defName>
    <label>Fighters Focus</label>
    <uiIconPath>UI/fightersfocus</uiIconPath>
    <description>Activates or deactivates the sustained combat skill Fighters Focus - increases mental break threshold by 5% and pain threshold by 20%. Requires 15 Stamina to sustain.</description>
    <staminaCost>0.0</staminaCost>
	<learnItem>SkillOf_FightersFocus</learnItem>
	<abilityHediff>TM_HediffFightersFocus</abilityHediff>
	<upkeepEnergyCost>.15</upkeepEnergyCost>
    <MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_FightersFocus</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
		<abilityDef>TM_FightersFocus</abilityDef>
		<isViolent>false</isViolent>
        <defaultProjectile>Projectile_Sustained</defaultProjectile>
        <warmupTime>0</warmupTime>
        <SecondsToRecharge>15</SecondsToRecharge>
        <range>0</range>
        <soundCast>Message_PositiveEvent</soundCast>
        <muzzleFlashScale>20</muzzleFlashScale>
        <isPrimary>false</isPrimary>
   	    <AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
		<targetParams>
		  <canTargetPawns>true</canTargetPawns>
		  <canTargetBuildings>false</canTargetBuildings>
		  <canTargetSelf>true</canTargetSelf>
		  <canTargetLocations>false</canTargetLocations>
		</targetParams>
    </MainVerb>
  </TorannMagic.TMAbilityDef>
  
 <!-- Burning Fury -->

 <TorannMagic.TMAbilityDef ParentName="BaseMightAbility">
    <defName>TM_BurningFury</defName>
    <label>Burning Fury</label>
    <uiIconPath>UI/burningfury</uiIconPath>
    <description>Activates or deactivates the sustained combat skill Burning Fury.
	
Burning Fury causes periodic burning damage to nearby enemies as well as the caster. It also cauterizes bleeding wounds and applies a combat enhancement on the caster.

Burning Fury:
Movement +10%
Breathing +40%
Blood pumping +40%
Pain threshold +40%
Armor (Heat) +100%

While active, the caster cannot be staggered and will reduce all incoming damage by 35%.

This ability actively consumes stamina, and will automatically cancel once the caster's stamina reaches 0.</description>
    <staminaCost>0.0</staminaCost>
	<learnItem>SkillOf_BurningFury</learnItem>
	<abilityHediff>TM_BurningFuryHD</abilityHediff>
    <MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_BurningFury</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
		<abilityDef>TM_BurningFury</abilityDef>
		<isViolent>false</isViolent>
        <defaultProjectile>Projectile_Sustained</defaultProjectile>
        <warmupTime>0</warmupTime>
        <SecondsToRecharge>10</SecondsToRecharge>
        <range>0</range>
        <soundCast>Message_PositiveEvent</soundCast>
        <muzzleFlashScale>20</muzzleFlashScale>
        <isPrimary>false</isPrimary>
   	    <AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
		<targetParams>
		  <canTargetPawns>true</canTargetPawns>
		  <canTargetBuildings>false</canTargetBuildings>
		  <canTargetSelf>true</canTargetSelf>
		  <canTargetLocations>false</canTargetLocations>
		</targetParams>
    </MainVerb>
  </TorannMagic.TMAbilityDef>
  
  

</Defs>